(this.webpackJsonpaniguesser=this.webpackJsonpaniguesser||[]).push([[0],{27:function(t,e,n){},55:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(5),i=n.n(c),u=(n(27),n(6)),s=n.n(u),o=n(7),j=n(3),m=n(19),l=n.n(m),f=(n(55),n(1)),b=function(){return Object(f.jsxs)("div",{id:"main-controls",className:"controls",children:[Object(f.jsx)("input",{list:"tags",autoComplete:"off",placeholder:"Guess the title"}),Object(f.jsx)("datalist",{id:"tags"})]})},d=function(t){var e=t.score;return Object(f.jsxs)("p",{id:"score",children:["Score: ",e]})},x=n(20);function O(t){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(s.a.mark((function t(e){var n,a,r,c,i,u,o,j;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.tag,a=e.index,r=void 0===a?void 0:a,c=Object(x.random)(n.count),i="/api/post.json?limit=1&page="+(null!==r&&void 0!==r?r:c)+"&tags="+n.name,t.next=5,fetch(i);case 5:return u=t.sent,t.next=8,u.json();case 8:if(o=t.sent,!h(j=o[0])){t.next=14;break}return t.abrupt("return",j);case 14:return t.abrupt("return",O({tag:n,index:(c+1)%n.count}));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return t&&t.file_url&&("mp4"===t.file_ext||"webm"===t.file_ext)&&t.id}var v=function(t){var e=t.tags,n=Object(a.useState)(0),c=Object(j.a)(n,2),i=c[0],u=c[1],s=Object(a.useState)(void 0),o=Object(j.a)(s,2),m=o[0],l=o[1];Object(a.useEffect)((function(){e.length>0&&O({tag:e[i]}).then(l)}),[e,i]);return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)("video",{muted:!0,preload:"auto",autoPlay:!0,src:null===m||void 0===m?void 0:m.file_url,onEnded:function(){u((i+1)%e.length)}}),Object(f.jsx)("p",{children:e[i].name.replaceAll("_"," ")}),Object(f.jsx)("p",{children:e[i].count})]})},g=n(75);function S(){return(S=Object(o.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/tag.json?limit=0&order=count");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n.filter((function(t){return t.count>0})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C,R=[{max:1e5,min:500},{max:1e5,min:500},{max:1e5,min:500},{max:500,min:100},{max:500,min:100},{max:500,min:100},{max:500,min:100},{max:500,min:100},{max:500,min:100},{max:100,min:25},{max:100,min:25},{max:100,min:25},{max:100,min:25},{max:25,min:10},{max:25,min:10},{max:25,min:10},{max:25,min:10},{max:1,min:1}];!function(t){t[t.GENERAL=0]="GENERAL",t[t.ARTIST=1]="ARTIST",t[t.COPYRIGHT=3]="COPYRIGHT",t[t.CHARACTER=4]="CHARACTER"}(C||(C={}));var T=function(){var t=Object(a.useState)([]),e=Object(j.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)([]),i=Object(j.a)(c,2),u=i[0],s=i[1],o=Object(a.useState)([]),m=Object(j.a)(o,2),x=(m[0],m[1],Object(a.useState)(void 0)),O=Object(j.a)(x,2),p=(O[0],O[1],Object(a.useState)("")),h=Object(j.a)(p,2),T=(h[0],h[1],Object(a.useState)(0)),E=Object(j.a)(T,2),A=E[0],w=(E[1],Object(a.useState)(!1)),y=Object(j.a)(w,2),I=y[0],k=y[1];return Object(a.useEffect)((function(){(function(){return S.apply(this,arguments)})().then((function(t){return r(t.filter((function(t){return t.type===C.COPYRIGHT})))}))}),[]),Object(f.jsxs)("div",{id:"videocontainer",className:"fade-out",children:[Object(f.jsx)(d,{score:A}),!I&&Object(f.jsx)(g.a,{variant:"contained",disabled:0===n.length,onClick:function(){s(function(t){return R.map((function(e){var n=e.max,a=e.min;return l()(t.filter((function(t){var e=t.count;return n>=e&&e>=a})))}))}(n)),k(!0)},children:"Start"}),I&&Object(f.jsx)(v,{tags:u}),Object(f.jsx)(b,{})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(T,{})}),document.getElementById("root")),E()}},[[61,1,2]]]);
//# sourceMappingURL=main.a3ed8ca9.chunk.js.map